<div {{ attributes }}>
    {{ displayFlash() }}
    <div class="border shadow-lg p-4 mb-4">
        {% include '@components/twig/live/Quote/quote-informations.html.twig' %}
    </div>
    <div class="border shadow p-4 mb-3">
        {% include '@components/twig/live/Quote/Item/quote-products.html.twig' %}
    </div>
    {% if not productItemsIsEmpty %}
    <div class="flex justify-end mb-3 bg-white">
        {% include '@components/twig/live/Quote/quote-recap.html.twig' %}
    </div>
    {% endif %}
    {% if not canSaveQuote %}
        <div class="mb-3">
            <twig:Alert
                color="warning"
                text="Veuillez remplir tous les champs obligatoires et rajouter des produits pour enregistrer le devis."
                icon="fa-warning"
                variant="small"
            />
        </div>
    {% endif %}
    <div class="flex flex-row justify-end">
        {% set buttonClass = 'text-white px-4 py-2 rounded text-sm' %}
        {% if canSaveQuote %}
            {% set buttonClass = buttonClass ~ ' bg-primary-500 hover:bg-primary-700 cursor-pointer' %}
        {% else %}
            {% set buttonClass = buttonClass ~ ' bg-gray-400 cursor-not-allowed' %}
        {% endif %}
        <button
            {{ (canSaveQuote) ? '' : 'disabled' }}
            data-action="live#action"
            data-action-name="saveQuote"
            class="{{ buttonClass }}"
        >
            <span data-loading="show">
                <i class="fas fa-spinner animate-spin"></i>
            </span>
            <span data-loading="hide">
                <i class="fas fa-save"></i>
            </span>
            Sauvegarder
        </button>
    </div>
</div>