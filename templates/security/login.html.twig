{% extends '@base/public.html.twig' %}

{% block title %}EasyVows{% endblock %}

{% set inputBaseClasses = 'border p-3 rounded-md w-full text-sm outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 focus:ring-opacity-50' %}

{% if error %}
{% set inputBaseClasses = inputBaseClasses ~ ' border-red-400' %}
{% endif %}

{% block form %}
    <h1 class="text-4xl font-bold text-center mb-5">
        Easy Vows
    </h1>
    <form method="post" class="grid gap-4">
        {% if error %}
            <div class="bg-red-100 text-red-500 rounded px-4 py-2">
                Vérifiez vos identifiants de connexion.
            </div>
        {% endif %}
        <label for="inputEmail" class="">
            Adresse e-mail
        </label>
        <input
                type="email"
                value="{{ last_username }}"
                name="email"
                id="inputEmail"
                class="{{ inputBaseClasses }}"
                autocomplete="email"
                required
                {% if not error %} autofocus {% endif %}
                placeholder="Entrez votre adresse e-mail"
        />

        <label for="inputPassword" class="">
            Mot de passe
        </label>
        <input
                type="password"
                name="password"
                id="inputPassword"
                class="{{ inputBaseClasses }}"
                autocomplete="current-password"
                required
                placeholder="Entrez votre mot de passe"
        />
        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

        <div class="flex justify-center mt-2 w-full">
            <button class="bg-indigo-700 w-1/2 hover:bg-indigo-800 text-white font-bold py-2 px-4 rounded"
                    type="submit">
                Connexion
            </button>
        </div>

        <div class="text-center">
            <p>Vous n'avez pas de compte ? Pas de problème.</p>
            <a href="{{ path('app_register') }}"
               class="text-primary-500 hover:text-primary-700">
                Inscrivez-vous
            </a>
        </div>
    </form>
{% endblock form %}
